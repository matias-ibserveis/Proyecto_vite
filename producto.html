<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Productos - LUR√Å</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/src/style.css" />
  <link href="https://db.onlinewebfonts.com/c/b12cce617218fe8bfa367def9a61af72?family=Aloja+Extended" rel="stylesheet" />
</head>
<body>
  <!-- Main Navbar -->
  <div id="navbar"></div>

  <!-- Categories Section -->
  <section class="category-cards-section">
    <h2 class="category-title">CATEGORIAS</h2>
    <div id="category-cards"></div>
  </section>

  <!-- Search Bar -->
  <div class="category-nav-container">
    <div id="category-navbar"></div>
  </div>

  <!-- Product Content -->
  <div class="product-container">
    <div class="row">
      <div class="col-12">
        <div id="product-section"></div>
      </div>
    </div>
  </div>

  <!-- Load JavaScript -->
  <script type="module">
    import { CestaNavbar } from '/src/components/CestaNavbar.js';
    import { CategoryNavbar } from '/src/components/ParteProductoPage/CategoryNavbar.js';
    import { CategoryCards } from '/src/components/ParteProductoPage/CategoryCards.js';
    import { Productos } from '/src/components/ParteProductoPage/productos.js';

    (async () => {
      try {
        // Main Navbar
        const mainNavbar = CestaNavbar();
        document.getElementById('navbar').appendChild(mainNavbar);
        console.log("Main navbar appended successfully:", mainNavbar);

        // Category Cards
        const categoryCards = CategoryCards();
        const categoryCardsContainer = document.getElementById('category-cards');
        if (categoryCardsContainer) {
          categoryCardsContainer.appendChild(categoryCards);
          console.log("Category cards appended successfully:", categoryCards);
        } else {
          console.error("Category cards container not found in DOM");
        }

        // Category Navbar
        const categoryNavbar = CategoryNavbar();
        const categoryNavbarContainer = document.getElementById('category-navbar');
        if (categoryNavbarContainer) {
          categoryNavbarContainer.appendChild(categoryNavbar);
          console.log("Category navbar appended successfully:", categoryNavbar);
        } else {
          console.error("Category navbar container not found in DOM");
        }

        // Product Section (await async function)
        const productSection = await Productos();
        const productSectionContainer = document.getElementById('product-section');
        if (productSectionContainer) {
          productSectionContainer.appendChild(productSection);
          console.log("Product section appended successfully:", productSection);
        } else {
          console.error("Product section container not found in DOM");
        }
      } catch (error) {
        console.error("Error loading components:", error);
      }
    })();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</body>
</html>